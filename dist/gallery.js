"use strict";(()=>{window.fsAttributes.push(["cmsfilter",e=>{let[t]=e;$(".search_clear").hide(),t.listInstance.on("renderitems",function(){d.init(),t.filtersData[0].values.size>=1?($("[data-filter-default]").hide(),$("[data-filter-results]").css("display","flex"),$(".search_clear").css("display","flex")):($("[data-filter-default]").show(),$("[data-filter-results]").hide(),$(".search_clear").hide())})}]);window.fsAttributes.push(["cmsload",e=>{listInstance.on("renderitems",t=>{d.init()})}]);var c=$(".search_input");if(!window.location.href.includes("/blog-categories/")){let e=function(){c.on("input",function(){let t=$(this).val().toLowerCase().trim();$(".p-gallery-menu-link").each(function(){let i=$(this).text().toLowerCase().trim();i===t?(console.log("Match found:",i),$(this).addClass("w--current")):$(this).removeClass("w--current")})})};h=e,e(),$(".p-gallery_menu-link").on("click",function(){let t=$(this).text();c.val(t),c[0].dispatchEvent(new Event("input",{bubbles:!0}))})}var h;function p(e,t,n={}){let a={...{typeSpeed:100,wordDelay:2e3,eraseSpeed:50},...n},r=0,o=0,u=!1;function l(){let f=t[r];if(u){if(e.attr("placeholder",f.substring(0,o)),o--,o<0){u=!1,r=(r+1)%t.length,setTimeout(l,a.typeSpeed);return}setTimeout(l,a.eraseSpeed)}else{if(e.attr("placeholder",f.substring(0,o)),o++,o>f.length){u=!0,setTimeout(l,a.wordDelay);return}setTimeout(l,a.typeSpeed)}}l()}typeof searchWords!="undefined"&&p(c,searchWords);var s,d={init:function(){this.bindEvents()},bindEvents:function(){let e=this;$("[data-video-item]").on("click",function(){e.handleVideoClick($(this))}),$(".video-modal_close").on("click",function(){e.closeModal()}),$(".video-modal_close-btn").on("click",function(){e.closeModal()}),$(".video-modal").on("click",function(t){t.target===this&&e.closeModal()}),$(document).on("keydown",function(t){t.key==="Escape"&&$(".video-modal").is(":visible")&&e.closeModal()})},handleVideoClick:function(e){let t=e.attr("data-mp4-source"),n=e.attr("data-webm-source"),i=e.attr("data-poster-src");this.destroyExistingPlayer(),this.setupVideoSources(t,n,i),this.initializePlayer()},destroyExistingPlayer:function(){s&&(s.destroy(),s=null)},setupVideoSources:function(e,t,n){let i=$(".video-modal").find("video");i.empty().removeAttr("poster"),t&&i.append(`<source src="${t}" type="video/webm">`),e&&i.append(`<source src="${e}" type="video/mp4">`),n&&i.attr("poster",n),i[0].load()},initializePlayer:function(){let e=this,t=$(".video-modal"),n=t.find("video");setTimeout(function(){s=new Plyr(n[0],{controls:["play-large","play","progress","current-time","mute","volume","fullscreen"],autoplay:!1,loop:{active:!0},ratio:null}),$(".video-modal .plyr").css({"object-fit":"contain",width:"100%",height:"100%"}),e.showModal(t)},50)},showModal:function(e){e.fadeIn(300,function(){setTimeout(function(){s&&s.play()},100)})},closeModal:function(){$(".video-modal").fadeOut(300,function(){d.destroyExistingPlayer()})}};$(document).ready(function(){d.init()});})();
