"use strict";(()=>{$(document).ready(()=>{let g=$(".cta_banner"),p=$(".navbar"),w=$(".footer-box"),y=$(p).height();$(window).on("scroll",()=>{if(g.length){let a=$(window).scrollTop()+$(window).height(),n=w.offset().top;window.scrollY>y*2?a>=n?g.removeClass("active"):g.addClass("active"):g.removeClass("active")}});function S(a,n){$(a).each(function(){new MutationObserver(e=>{e.forEach(s=>{s.type==="attributes"&&s.attributeName==="class"&&n(s.target)})}).observe(this,{attributes:!0,attributeFilter:["class"]})})}function E(a){$(a).hasClass("w--open")?p.addClass("open"):p.removeClass("open")}let v,f=!1;S(".w-nav-button",()=>{E(".w-nav-button"),f?($("html, body").scrollTop(v).removeClass("overflow-hidden"),$(".nav").removeClass("open")):(v=$(window).scrollTop(),$("html, body").scrollTop(0).addClass("overflow-hidden"),$(".nav").addClass("open")),f=!f});function T(){let a=document.querySelector("[data-modal-group-status]"),n=document.querySelectorAll("[data-modal-name]"),r=document.querySelectorAll("[data-modal-target]");r.forEach(e=>{e.addEventListener("click",function(){let s=this.getAttribute("data-modal-target");r.forEach(i=>i.setAttribute("data-modal-status","not-active")),n.forEach(i=>i.setAttribute("data-modal-status","not-active")),document.querySelector(`[data-modal-target="${s}"]`).setAttribute("data-modal-status","active"),document.querySelector(`[data-modal-name="${s}"]`).setAttribute("data-modal-status","active"),a&&a.setAttribute("data-modal-group-status","active")})}),document.querySelectorAll("[data-modal-close]").forEach(e=>{e.addEventListener("click",l)}),document.addEventListener("keydown",function(e){e.key==="Escape"&&l()});function l(){r.forEach(e=>e.setAttribute("data-modal-status","not-active")),a&&a.setAttribute("data-modal-group-status","not-active")}}T();function A(a={}){let r={...{videoSelector:".window-scroll-wall_video video",containerSelector:".section_window-scroll-wall",labelSelector:".window-scroll-wall_label",labels:[],scrubSpeed:.5,fadeOverlap:.1},...a},l=$(r.videoSelector);if(!l.length)return;let e=l[0],s=$(r.labelSelector),i=s.length;function L(){return s.map((o,d)=>{let t=r.labels[o],h=1/i;return{element:$(d),start:(t==null?void 0:t.start)/100,end:(t==null?void 0:t.end)/100}}).get()}e.muted=!0,e.playsInline=!0,e.setAttribute("playsinline",""),e.style.visibility="visible";function C(){gsap.registerPlugin(ScrollTrigger);let o=L();gsap.set(s,{opacity:0});let d=gsap.timeline({scrollTrigger:{trigger:r.containerSelector,start:"top top",end:"bottom bottom",scrub:r.scrubSpeed,markers:!0,onEnter:()=>e.currentTime=0,onUpdate:t=>{e.currentTime=t.progress*e.duration,o.forEach(({element:h,start:c,end:u})=>{let q=r.fadeOverlap,m=Math.min(q*(u-c),(u-c)/3),b=0;t.progress>=c&&t.progress<=u&&(t.progress<c+m?b=(t.progress-c)/m:t.progress>u-m?b=(u-t.progress)/m:b=1),h.css("opacity",Math.max(0,Math.min(1,b)))})},onLeave:()=>e.currentTime=e.duration,onEnterBack:()=>e.currentTime=0}});window.addEventListener("orientationchange",()=>ScrollTrigger.refresh()),window.addEventListener("resize",()=>ScrollTrigger.refresh())}function k(o,d){if(o.setAttribute("preload","auto"),o.style.visibility="visible",o.readyState>=3){console.log("Video already ready."),d();return}let t=()=>{console.log("Video is ready!"),o.removeEventListener("loadeddata",t),o.removeEventListener("canplaythrough",t),d()};o.addEventListener("loadeddata",t,{once:!0}),o.addEventListener("canplaythrough",t,{once:!0}),setTimeout(()=>{o.readyState>=2?(console.warn("Fallback triggered: Video readyState:",o.readyState),t()):console.error("Video still not ready after fallback!")},3e3)}k(e,C)}A({labels:[{start:0,end:22},{start:22,end:34},{start:34,end:62},{start:62,end:66},{start:66,end:75},{start:75,end:85},{start:80,end:90},{start:90,end:100}]})});})();
