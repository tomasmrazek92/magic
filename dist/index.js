"use strict";(()=>{$(document).ready(()=>{let p=$(".cta_banner"),v=$(".navbar"),E=$(".footer-box"),A=$(v).height();$(window).on("scroll",()=>{if(p.length){let r=$(window).scrollTop()+$(window).height(),c=E.offset().top;window.scrollY>A*2?r>=c?p.removeClass("active"):p.addClass("active"):p.removeClass("active")}});function T(r,c){$(r).each(function(){new MutationObserver(l=>{l.forEach(t=>{t.type==="attributes"&&t.attributeName==="class"&&c(t.target)})}).observe(this,{attributes:!0,attributeFilter:["class"]})})}function C(r){$(r).hasClass("w--open")?v.addClass("open"):v.removeClass("open")}let y,g=!1;T(".w-nav-button",()=>{C(".w-nav-button"),g?($("html, body").scrollTop(y).removeClass("overflow-hidden"),$(".nav").removeClass("open")):(y=$(window).scrollTop(),$("html, body").scrollTop(0).addClass("overflow-hidden"),$(".nav").addClass("open")),g=!g});function L(){let r=document.querySelector("[data-modal-group-status]"),c=document.querySelectorAll("[data-modal-name]"),o=document.querySelectorAll("[data-modal-target]");o.forEach(l=>{l.addEventListener("click",function(){let t=this.getAttribute("data-modal-target");o.forEach(d=>d.setAttribute("data-modal-status","not-active")),c.forEach(d=>d.setAttribute("data-modal-status","not-active")),document.querySelector(`[data-modal-target="${t}"]`).setAttribute("data-modal-status","active"),document.querySelector(`[data-modal-name="${t}"]`).setAttribute("data-modal-status","active"),r&&r.setAttribute("data-modal-group-status","active")})}),document.querySelectorAll("[data-modal-close]").forEach(l=>{l.addEventListener("click",u)}),document.addEventListener("keydown",function(l){l.key==="Escape"&&u()});function u(){o.forEach(l=>l.setAttribute("data-modal-status","not-active")),r&&r.setAttribute("data-modal-group-status","not-active")}}L();function w(r={}){let o={...{containerSelector:".section_window-scroll-wall",videoSelector:".window-scroll-wall_video video",labelSelector:".window-scroll-wall_label",labels:[],scrubSpeed:.5,fadeOverlap:.1},...r},u=$(o.videoSelector);if(!$(o.containerSelector).length)return;let t=u[0],d=$(o.labelSelector),q=d.length;function M(){return d.map((e,i)=>{let n=o.labels[e],a=1/q;return{element:$(i),start:(n==null?void 0:n.start)/100,end:(n==null?void 0:n.end)/100}}).get()}t.muted=!0,t.playsInline=!0,t.setAttribute("playsinline",""),t.style.visibility="visible";function _(){gsap.registerPlugin(ScrollTrigger);let e=M(),i=-1,n=gsap.timeline({scrollTrigger:{trigger:o.containerSelector,start:"top top",end:"bottom bottom",scrub:o.scrubSpeed,onUpdate:a=>{let b=a.progress*t.duration;Math.abs(b-i)>.1&&(requestAnimationFrame(()=>{t.currentTime=b}),i=b),e.forEach(s=>{let h=o.fadeOverlap,S=s.end-s.start,m=Math.min(h*S,S/3),f=0;a.progress>=s.start&&a.progress<=s.end&&(a.progress<s.start+m?f=(a.progress-s.start)/m:a.progress>s.end-m?f=(s.end-a.progress)/m:f=1),s.element.css("opacity",Math.max(0,Math.min(1,f)))})},onEnter:()=>t.currentTime=0,onLeave:()=>t.currentTime=t.duration,onEnterBack:()=>t.currentTime=t.duration}})}function k(e,i){e.setAttribute("preload","auto"),e.setAttribute("playsinline",""),e.muted=!0,e.style.visibility="visible";let n=!1,a=()=>{n||(n=!0,e.pause(),i())};if(e.load(),e.readyState>=3){a();return}e.addEventListener("loadeddata",a,{once:!0}),e.addEventListener("canplaythrough",a,{once:!0}),e.addEventListener("error",h=>{}),e.addEventListener("play",()=>{e.pause()});let b=0,s=setInterval(()=>{e.readyState>=3&&(clearInterval(s),a()),b>=5&&clearInterval(s)},1500);setTimeout(()=>{!n&&e.readyState>=2&&a()},7e3)}gsap.set(d,{opacity:0}),k(t,()=>{_()})}w({containerSelector:".section_window-scroll-wall",labels:[{start:0,end:22},{start:22,end:34},{start:34,end:62},{start:62,end:66},{start:66,end:75},{start:75,end:85},{start:85,end:90},{start:90,end:100}]}),w({containerSelector:".section_windowwall-scroll-wall",labels:[{start:0,end:20},{start:58,end:75},{start:75,end:85},{start:85,end:100}]}),w({containerSelector:".section_patiodoors-scroll-wall",labels:[{start:0,end:14},{start:14,end:29},{start:29,end:62},{start:62,end:71},{start:62,end:71},{start:71,end:86},{start:86,end:100}]})});})();
