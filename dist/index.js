"use strict";(()=>{$(document).ready(()=>{let g=$(".cta_banner"),p=$(".navbar"),h=$(".footer-box"),S=$(p).height();$(window).on("scroll",()=>{if(g.length){let r=$(window).scrollTop()+$(window).height(),i=h.offset().top;window.scrollY>S*2?r>=i?g.removeClass("active"):g.addClass("active"):g.removeClass("active")}});function w(r,i){$(r).each(function(){new MutationObserver(e=>{e.forEach(l=>{l.type==="attributes"&&l.attributeName==="class"&&i(l.target)})}).observe(this,{attributes:!0,attributeFilter:["class"]})})}function E(r){$(r).hasClass("w--open")?p.addClass("open"):p.removeClass("open")}let y,v=!1;w(".w-nav-button",()=>{E(".w-nav-button"),v?($("html, body").scrollTop(y).removeClass("overflow-hidden"),$(".nav").removeClass("open")):(y=$(window).scrollTop(),$("html, body").scrollTop(0).addClass("overflow-hidden"),$(".nav").addClass("open")),v=!v});function T(){let r=document.querySelector("[data-modal-group-status]"),i=document.querySelectorAll("[data-modal-name]"),o=document.querySelectorAll("[data-modal-target]");o.forEach(e=>{e.addEventListener("click",function(){let l=this.getAttribute("data-modal-target");o.forEach(c=>c.setAttribute("data-modal-status","not-active")),i.forEach(c=>c.setAttribute("data-modal-status","not-active")),document.querySelector(`[data-modal-target="${l}"]`).setAttribute("data-modal-status","active"),document.querySelector(`[data-modal-name="${l}"]`).setAttribute("data-modal-status","active"),r&&r.setAttribute("data-modal-group-status","active")})}),document.querySelectorAll("[data-modal-close]").forEach(e=>{e.addEventListener("click",d)}),document.addEventListener("keydown",function(e){e.key==="Escape"&&d()});function d(){o.forEach(e=>e.setAttribute("data-modal-status","not-active")),r&&r.setAttribute("data-modal-group-status","not-active")}}T();function A(r={}){let o={...{videoSelector:".window-scroll-wall_video video",containerSelector:".section_window-scroll-wall",labelSelector:".window-scroll-wall_label",labels:[],scrubSpeed:.5,fadeOverlap:.1},...r},d=$(o.videoSelector);if(!d.length)return;let e=d[0],l=$(o.labelSelector),c=l.length;function C(){return l.map((a,b)=>{let t=o.labels[a],n=1/c;return{element:$(b),start:(t==null?void 0:t.start)/100,end:(t==null?void 0:t.end)/100}}).get()}e.muted=!0,e.playsInline=!0,e.setAttribute("playsinline",""),e.style.visibility="visible";function L(){gsap.registerPlugin(ScrollTrigger);let a=C();gsap.set(l,{opacity:0});let b=gsap.timeline({scrollTrigger:{trigger:o.containerSelector,start:"top top",end:"bottom bottom",scrub:o.scrubSpeed,markers:!0,onEnter:()=>e.currentTime=0,onUpdate:t=>{e.currentTime=t.progress*e.duration,a.forEach(({element:n,start:s,end:u})=>{let q=o.fadeOverlap,m=Math.min(q*(u-s),(u-s)/3),f=0;t.progress>=s&&t.progress<=u&&(t.progress<s+m?f=(t.progress-s)/m:t.progress>u-m?f=(u-t.progress)/m:f=1),n.css("opacity",Math.max(0,Math.min(1,f)))})},onLeave:()=>e.currentTime=e.duration,onEnterBack:()=>e.currentTime=0}});window.addEventListener("orientationchange",()=>ScrollTrigger.refresh()),window.addEventListener("resize",()=>ScrollTrigger.refresh())}function k(a,b){alert("\u{1F50D} Checking video readiness..."),a.setAttribute("preload","auto"),a.style.visibility="visible";let t=!1,n=()=>{t||(t=!0,alert("\u{1F3AC} Video is ready! Firing callback..."),a.removeEventListener("loadeddata",n),a.removeEventListener("canplaythrough",n),b())};if(alert(`\u2705 Initial readyState: ${a.readyState}`),a.readyState>=3){alert("\u{1F680} Video already ready (readyState >= 3)."),n();return}a.addEventListener("loadeddata",()=>{alert("\u{1F4E5} loadeddata event fired."),n()},{once:!0}),a.addEventListener("canplaythrough",()=>{alert("\u{1F504} canplaythrough event fired."),n()},{once:!0}),a.addEventListener("error",s=>{alert("\u274C Video error:",s)}),setTimeout(()=>{!t&&a.readyState>=2?(alert("\u23F3 Fallback triggered. Current readyState:",a.readyState),n()):t||alert("\u26A0\uFE0F Video still not ready after fallback!")},3e3)}k(e,()=>{alert("\u{1F3D7}\uFE0F Initializing ScrollTrigger..."),L()})}A({labels:[{start:0,end:22},{start:22,end:34},{start:34,end:62},{start:62,end:66},{start:66,end:75},{start:75,end:85},{start:80,end:90},{start:90,end:100}]})});})();
