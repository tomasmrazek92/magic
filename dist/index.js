"use strict";(()=>{$(document).ready(()=>{let g=$(".cta_banner"),p=$(".navbar"),h=$(".footer-box"),S=$(p).height();$(window).on("scroll",()=>{if(g.length){let o=$(window).scrollTop()+$(window).height(),n=h.offset().top;window.scrollY>S*2?o>=n?g.removeClass("active"):g.addClass("active"):g.removeClass("active")}});function y(o,n){$(o).each(function(){new MutationObserver(e=>{e.forEach(r=>{r.type==="attributes"&&r.attributeName==="class"&&n(r.target)})}).observe(this,{attributes:!0,attributeFilter:["class"]})})}function E(o){$(o).hasClass("w--open")?p.addClass("open"):p.removeClass("open")}let v,f=!1;y(".w-nav-button",()=>{E(".w-nav-button"),f?($("html, body").scrollTop(v).removeClass("overflow-hidden"),$(".nav").removeClass("open")):(v=$(window).scrollTop(),$("html, body").scrollTop(0).addClass("overflow-hidden"),$(".nav").addClass("open")),f=!f});function T(){let o=document.querySelector("[data-modal-group-status]"),n=document.querySelectorAll("[data-modal-name]"),a=document.querySelectorAll("[data-modal-target]");a.forEach(e=>{e.addEventListener("click",function(){let r=this.getAttribute("data-modal-target");a.forEach(c=>c.setAttribute("data-modal-status","not-active")),n.forEach(c=>c.setAttribute("data-modal-status","not-active")),document.querySelector(`[data-modal-target="${r}"]`).setAttribute("data-modal-status","active"),document.querySelector(`[data-modal-name="${r}"]`).setAttribute("data-modal-status","active"),o&&o.setAttribute("data-modal-group-status","active")})}),document.querySelectorAll("[data-modal-close]").forEach(e=>{e.addEventListener("click",l)}),document.addEventListener("keydown",function(e){e.key==="Escape"&&l()});function l(){a.forEach(e=>e.setAttribute("data-modal-status","not-active")),o&&o.setAttribute("data-modal-group-status","not-active")}}T();function A(o={}){let a={...{videoSelector:".window-scroll-wall_video video",containerSelector:".section_window-scroll-wall",labelSelector:".window-scroll-wall_label",labels:[],scrubSpeed:.5,fadeOverlap:.1},...o},l=$(a.videoSelector);if(!l.length)return;let e=l[0],r=$(a.labelSelector),c=r.length;function C(){return r.map((s,i)=>{let t=a.labels[s],w=1/c;return{element:$(i),start:(t==null?void 0:t.start)/100,end:(t==null?void 0:t.end)/100}}).get()}e.muted=!0,e.playsInline=!0,e.setAttribute("playsinline",""),e.style.visibility="visible";function L(){gsap.registerPlugin(ScrollTrigger);let s=C();gsap.set(r,{opacity:0});let i=gsap.timeline({scrollTrigger:{trigger:a.containerSelector,start:"top top",end:"bottom bottom",scrub:a.scrubSpeed,markers:!0,onEnter:()=>e.currentTime=0,onUpdate:t=>{e.currentTime=t.progress*e.duration,s.forEach(({element:w,start:d,end:u})=>{let q=a.fadeOverlap,m=Math.min(q*(u-d),(u-d)/3),b=0;t.progress>=d&&t.progress<=u&&(t.progress<d+m?b=(t.progress-d)/m:t.progress>u-m?b=(u-t.progress)/m:b=1),w.css("opacity",Math.max(0,Math.min(1,b)))})},onLeave:()=>e.currentTime=e.duration,onEnterBack:()=>e.currentTime=0}});window.addEventListener("orientationchange",()=>ScrollTrigger.refresh()),window.addEventListener("resize",()=>ScrollTrigger.refresh())}function k(s,i){s.readyState>=3?i():(s.addEventListener("canplaythrough",i,{once:!0}),setTimeout(()=>{s.readyState>=2&&(console.warn("Fallback triggered: Video readyState:",s.readyState),i())},3e3))}k(e,L)}A({labels:[{start:0,end:22},{start:22,end:34},{start:34,end:62},{start:62,end:66},{start:66,end:75},{start:75,end:85},{start:80,end:90},{start:90,end:100}]})});})();
