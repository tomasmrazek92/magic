"use strict";(()=>{var M=new Map,O=new Set;function Z(){let t=$("section:has(.plyr_video)");if(!t.length)return;let r=window.innerWidth<=991,e=new IntersectionObserver(s=>{s.forEach(n=>{let a=n.target.id||`video-section-${Date.now()}`;n.isIntersecting&&!O.has(a)&&(K(n.target,a,r),O.add(a),e.unobserve(n.target))})},{threshold:.1});t.each(function(){this.id||(this.id=`video-section-${Date.now()}`),e.observe(this)})}function K(t,r,e){let s=$(t).find(".plyr_video"),n=[];M.set(r,n),s.each(function(){let a=$(this),u=a.parent(),f=u.attr("data-video-src"),y=u.attr("data-poster-src");y&&a.attr("poster",y),a.attr("src",f),a.attr("preload","auto");let w={controls:["play","mute"],clickToPlay:!1,muted:!0,resetOnEnd:!0,poster:y},p=new Plyr(a,w);p.on("ready",()=>{p.muted=!0}),n.push(p),e?E(u,p,a[0],r):ee(u,p,a[0],r)})}function E(t,r,e,s){let n=!1;t.on("click",function(a){a.preventDefault(),n?(r.pause(),r.muted=!0,n=!1):(N(e,s),r.once("playing",()=>{n=!0}),r.muted=!1,r.play())})}function ee(t,r,e,s){t.on("mouseenter",function(){N(e,s),r.play()}),t.on("mouseleave",function(){r.pause(),r.restart(),r.muted=!0}),t.on("click",function(n){n.preventDefault(),r.muted=!r.muted})}function N(t,r){(M.get(r)||[]).forEach(function(s){s.media!==t&&(s.pause(),s.restart(),s.muted=!0)})}$(document).ready(Z);var U=window.innerWidth,P={};var te=(t,r,e,s,n)=>{let a=$(t).add(r);console.log(a.length),a.length===2&&(P[e]=0,P[e]=P[e]||0,a.each(function(){let u=`${e}_${P[e]}`;ie(this,r,u,[".swiper-arrow",".swiper-navigation",".swiper-drag-wrapper"]);let f=ne(s,u);oe(this,r,u,e,f,n),P[e]++}))},ie=(t,r,e,s)=>{s.forEach(n=>{$(t).find(n).addClass(e)}),$(t).find(r).addClass(e)},ne=(t,r)=>{let e={el:`.swiper-navigation.${r}`,type:"bullets",bulletActiveClass:"swiper-bullet-active",bulletClass:"swiper-bullet",clickable:!0},s=t.pagination?{...e,...t.pagination}:e,n=t.on||{},a={...n,init:function(...u){n.init&&n.init.apply(this,u),setTimeout(()=>{ScrollTrigger.refresh()},100)},resize:function(...u){n.resize&&n.resize.apply(this,u),ScrollTrigger.refresh()}};return{speed:1e3,navigation:{prevEl:`.swiper-arrow.prev.${r}`,nextEl:`.swiper-arrow.next.${r}`},mousewheel:{enabled:!0,forceToAxis:!0},pagination:s,...t,on:a}},oe=(t,r,e,s,n,a)=>{swipers[s]=swipers[s]||{},swipers[s][e]=swipers[s][e]||{};let f=swipers[s][e].swiperInstance,y=a==="desktop"&&window.matchMedia("(min-width: 992px)").matches,w=a==="mobile"&&window.matchMedia("(min-width: 0px) and (max-width: 991px)").matches,p=a==="all",I=()=>{f&&(f.destroy(!0,!0),delete swipers[s][e],console.log("Swiper destroyed for",r,"with uniqueKey",e))};!y&&a==="desktop"||!w&&a==="mobile"||!p&&a==="all"?I():(y||w||p)&&!f&&(()=>{let C=$(`${r}.${e}`)[0];if(!C)return;let z=new IntersectionObserver(J=>{J.forEach(de=>{if((y||w||p)&&!f){let l=new Swiper(`${r}.${e}`,n);swipers[s][e]={swiperInstance:l,mode:y?"desktop":w?"mobile":"all",initialized:!0},z.disconnect(),console.log("Swiper initialized for",r,"with uniqueKey",e)}})},{});swipers[s][e].observer=z,z.observe(C)})()},j=t=>{t.forEach(r=>{te(...r)})},G=(t,r)=>{j(t),window.addEventListener("resize",function(){window.innerWidth!==U&&(U=window.innerWidth,j(t))})};var re=[[".section_hp-inspired",".swiper-inspired","inspired-slider",{slidesPerView:"auto"},"all"],[".section_lp-official-carousel",".lp-official-carousel_slider","lp-official",{slidesPerView:1,threshold:50,loop:!0,spaceBetween:24,on:{slideChangeTransitionEnd:function(){let r=this.slides[this.activeIndex].querySelector("[data-vimeo-player-init]");r&&m(r)},init:function(){let r=this.slides[this.activeIndex].querySelector("[data-vimeo-player-init]");r&&m(r)}}},"all"],[".section_hp-reviews",".swiper-reviews","reviews-slider",{slidesPerView:"auto",autoHeight:!0},"all"],[".section_windows-styles",".swiper-styles","styles-slider",{threshold:50,breakpoints:{0:{centeredSlides:!0,spaceBetween:20,slidesPerView:1.5},767:{centeredSlides:!0,spaceBetween:28,slidesPerView:2.4},992:{centeredSlides:!1,spaceBetween:20,slidesPerView:4}}},"all"],[".section_windows-energy",".swiper-energy","energy-slider",{pagination:{el:".section_windows-energy .slider-progress_bg",type:"progressbar"},breakpoints:{0:{centeredSlides:!0,spaceBetween:24,slidesPerView:1.1},767:{centeredSlides:!0,spaceBetween:28,slidesPerView:2},992:{spaceBetween:48,centeredSlides:!1,slidesPerView:"auto"}}},"all"],[".section_windows-control",".swiper-control","control-slider",{loop:!0,speed:1e3,centeredSlides:!0,autoplay:{delay:3e3},breakpoints:{0:{spaceBetween:24,slidesPerView:1.4},767:{spaceBetween:32,slidesPerView:2},992:{spaceBetween:16,slidesPerView:"auto"}}},"all"],[".section_blog-hero",".blog-hero_slider","blog-slider",{slidesPerView:1,loop:!0,threshhold:20,slideToClickedSlide:!0},"all"]];G(re);var x=!1;if(typeof Vimeo!="undefined"&&Vimeo.Player)x=!0,console.log("Vimeo API already loaded");else{console.log("Loading Vimeo API dynamically");let t=document.createElement("script");t.src="https://player.vimeo.com/api/player.js",t.onload=function(){x=!0,console.log("Vimeo API loaded successfully")},t.onerror=function(){console.error("Failed to load Vimeo API")},document.body.appendChild(t)}function o(t,r){let e=new Date().toISOString();console.log(`[Vimeo Player ${e}] ${t}`,r||"")}function m(t){if(!x){console.warn("Vimeo API not ready yet. Will retry in 500ms."),setTimeout(()=>m(t),500);return}o("Initializing Vimeo player for:",t),(t?[t]:document.querySelectorAll("[data-vimeo-player-init]")).forEach(function(e,s){if(e.hasAttribute("data-vimeo-initialized")){o("Element already initialized, skipping",e.id);return}let n=e.getAttribute("data-vimeo-video-id");if(!n){console.error("No video ID found for element",e);return}o("Setting up video with ID:",n);let a=e.querySelector("iframe");a||(o("No iframe found, creating one"),a=document.createElement("iframe"),a.width="100%",a.height="100%",a.frameBorder="0",a.allow="autoplay; fullscreen",a.allowFullscreen=!0,(e.querySelector(".vimeo-bg__iframe-wrapper")||e).appendChild(a));let u=`https://player.vimeo.com/video/${n}?api=1&background=1&autoplay=0&loop=0&muted=1`;if(a.setAttribute("src",u),o("Set iframe src to:",u),!e.id){let l="vimeo-player-index-"+s;e.setAttribute("id",l),o("Assigned ID to element:",l)}let f=e.id;try{let v=function(){let i=e.offsetHeight/e.offsetWidth*100;o(`Container aspect ratio: ${i}`);let c=e.querySelector(".vimeo-bg__iframe-wrapper");if(c&&h)if(i>h*100){let d=`${i/(h*100)*100}%`;c.style.width=d,o("Updated iframe wrapper width to:",d)}else c.style.width="",o("Reset iframe wrapper width")},g=function(){o("vimeoPlayerPlay called for:",n),e.setAttribute("data-vimeo-activated","true"),e.setAttribute("data-vimeo-playing","true"),e._vimeoState.hasAttemptedPlay=!0,e._vimeoState.playAttempts++,l.play().then(()=>{o("Play command succeeded"),B(e,f)}).catch(i=>{console.error("Play command failed:",i),e._vimeoState.errors.push({type:"play",error:i}),e._vimeoState.playAttempts<3&&(o(`Retrying play attempt ${e._vimeoState.playAttempts+1}/3`),setTimeout(()=>{l.play().catch(c=>{console.error("Retry play failed:",c)})},1e3))})},S=function(){o("vimeoPlayerPause called for:",n),e.setAttribute("data-vimeo-playing","false"),l.pause().catch(i=>{console.error("Pause command failed:",i)})},B=function(i,c){window.innerWidth<992&&setTimeout(()=>{let d=document.getElementById(c);if(!d)return;if(!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement))try{i.setAttribute("data-vimeo-fullscreen","true"),d.requestFullscreen?d.requestFullscreen():d.webkitRequestFullscreen?d.webkitRequestFullscreen():d.mozRequestFullScreen?d.mozRequestFullScreen():d.msRequestFullscreen&&d.msRequestFullscreen()}catch(Y){console.error("Fullscreen error:",Y)}},300)},k=function(i){let c=Math.floor(i/3600);i-=c*3600;let d=Math.floor(i/60);return i-=d*60,d+":"+(i<10?"0"+i:i)},D=function(){l.getDuration().then(function(){let i=b.value;o(`Timeline changed to: ${i}s`),l.setCurrentTime(i),_&&(_.value=i)})},H=function(){e.setAttribute("data-vimeo-hover","false")},W=function(){o("Video ended"),e.setAttribute("data-vimeo-activated","false"),e.setAttribute("data-vimeo-playing","false"),l.unload()};var y=v,w=g,p=S,I=B,le=k,C=D,z=H,J=W;o("Creating Vimeo Player instance for:",f);let l=new Vimeo.Player(a);e._vimeoState={isPlaying:!1,isLoaded:!1,hasAttemptedPlay:!1,playAttempts:0,errors:[]},l.ready().then(()=>{o("Player ready for video:",n),e._vimeoState.isReady=!0}).catch(i=>{console.error("Player ready promise failed:",i),e._vimeoState.errors.push({type:"ready",error:i})});let h;e.getAttribute("data-vimeo-update-size")==="true"&&(o("Will update aspect ratio for:",n),l.getVideoWidth().then(function(i){l.getVideoHeight().then(function(c){h=c/i,o(`Video aspect ratio: ${c}/${i} = ${h}`);let d=e.querySelector(".vimeo-player__before");d&&(d.style.paddingTop=h*100+"%",o("Updated padding-top to:",h*100+"%"))})})),e.getAttribute("data-vimeo-update-size")==="true"?(v(),l.getVideoWidth().then(function(){l.getVideoHeight().then(function(){v()})})):v();let T=()=>v();if(window.addEventListener("resize",T),e._vimeoResizeHandler=T,l.on("loaded",function(){o("Event: loaded",n),e._vimeoState.isLoaded=!0,e.setAttribute("data-vimeo-loaded","true");let i=window.getComputedStyle(a);o("iframe CSS - visibility:",i.visibility),o("iframe CSS - display:",i.display),o("iframe CSS - opacity:",i.opacity)}),l.on("play",function(){o("Event: play",n),e._vimeoState.isPlaying=!0,e.setAttribute("data-vimeo-loaded","true"),e.setAttribute("data-vimeo-playing","true")}),l.on("pause",function(){o("Event: pause",n),e._vimeoState.isPlaying=!1,e.setAttribute("data-vimeo-playing","false")}),l.on("ended",function(){o("Event: ended",n),e._vimeoState.isPlaying=!1}),l.on("error",function(i){console.error("Event: error",n,i),e._vimeoState.errors.push({type:"playback",error:i})}),e.getAttribute("data-vimeo-autoplay")==="false")o("Autoplay disabled for:",n),l.setVolume(1),l.pause();else if(o("Autoplay enabled for:",n),l.setVolume(0),e.setAttribute("data-vimeo-muted","true"),e.getAttribute("data-vimeo-paused-by-user")==="false"){let i=function(){let c=e.getBoundingClientRect(),d=c.top<window.innerHeight&&c.bottom>0;o(`Visibility check: ${d?"in view":"not in view"}`),d?g():S()};var de=i;i(),window.addEventListener("scroll",i),e._vimeoScrollHandler=i}else o("Attempting immediate play for:",n),g();e.querySelectorAll('[data-vimeo-control="play"]').forEach(i=>{i.addEventListener("click",function(){o("Play button clicked"),l.setVolume(0),g();let c=e.getAttribute("data-vimeo-muted")==="true"?0:1;l.setVolume(c)})});let q=e.querySelector('[data-vimeo-control="pause"]');q&&q.addEventListener("click",function(){o("Pause button clicked"),S(),e.getAttribute("data-vimeo-autoplay")==="true"&&(e.setAttribute("data-vimeo-paused-by-user","true"),e._vimeoScrollHandler&&window.removeEventListener("scroll",e._vimeoScrollHandler))});let R=e.querySelector('[data-vimeo-control="mute"]');R&&R.addEventListener("click",function(){o("Mute button clicked"),e.getAttribute("data-vimeo-muted")==="false"?(l.setVolume(0),e.setAttribute("data-vimeo-muted","true")):(l.setVolume(1),e.setAttribute("data-vimeo-muted","false"))});let Q=!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled),A=e.querySelector('[data-vimeo-control="fullscreen"]');!Q&&A&&(A.style.display="none"),A&&A.addEventListener("click",()=>{o("Fullscreen button clicked");let i=document.getElementById(f);if(!i)return;document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?(e.setAttribute("data-vimeo-fullscreen","false"),(document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen).call(document)):(e.setAttribute("data-vimeo-fullscreen","true"),(i.requestFullscreen||i.webkitRequestFullscreen||i.mozRequestFullScreen||i.msRequestFullscreen).call(i))});let X=()=>{let i=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e.setAttribute("data-vimeo-fullscreen",i?"true":"false")};["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(i=>{document.addEventListener(i,X)});let V=e.querySelector("[data-vimeo-duration]");l.getDuration().then(function(i){o(`Got duration: ${i}s`),V&&(V.textContent=k(i)),e.querySelectorAll('[data-vimeo-control="timeline"], progress').forEach(d=>{d.setAttribute("max",i)})});let b=e.querySelector('[data-vimeo-control="timeline"]'),_=e.querySelector("progress");b&&["input","change"].forEach(i=>{b.addEventListener(i,D)}),l.on("timeupdate",function(i){b&&(b.value=i.seconds),_&&(_.value=i.seconds),V&&(V.textContent=k(Math.trunc(i.seconds)))});let L;e.addEventListener("mousemove",function(){e.getAttribute("data-vimeo-hover")==="false"&&e.setAttribute("data-vimeo-hover","true"),clearTimeout(L),L=setTimeout(H,3e3)}),l.on("ended",W),e._vimeoPlayer=l,e._vimeoPlayerPlay=g,e._vimeoPlayerPause=S,e.setAttribute("data-vimeo-initialized","true"),o("Player initialization complete for:",n),e.getAttribute("data-vimeo-autoplay")!=="false"&&setTimeout(()=>{o("Attempting delayed play"),g()},500)}catch(l){console.error("Failed to initialize Vimeo Player:",l)}})}function F(t){if(!t||!t.hasAttribute("data-vimeo-initialized")){o("Nothing to destroy",t);return}o("Destroying player for:",t.id),t._vimeoResizeHandler&&window.removeEventListener("resize",t._vimeoResizeHandler),t._vimeoScrollHandler&&window.removeEventListener("scroll",t._vimeoScrollHandler),t._vimeoPlayer&&t._vimeoPlayer.destroy().catch(r=>console.error("Error destroying Vimeo player:",r)),t.removeAttribute("data-vimeo-initialized"),t.removeAttribute("data-vimeo-playing"),t.removeAttribute("data-vimeo-activated"),t.removeAttribute("data-vimeo-loaded"),o("Player destroyed for:",t.id)}function se(t){return!t||!t._vimeoPlayer?"No Vimeo player found":{id:t.id,videoId:t.getAttribute("data-vimeo-video-id"),initialized:t.hasAttribute("data-vimeo-initialized"),playing:t.hasAttribute("data-vimeo-playing"),loaded:t.hasAttribute("data-vimeo-loaded"),state:t._vimeoState||"No state tracking available"}}typeof $!="undefined"&&($.fn.initVimeoPlayer=function(){return this.each(function(){m(this)})},$.fn.destroyVimeoPlayer=function(){return this.each(function(){F(this)})},$.fn.vimeoPlayerPlay=function(){return this.each(function(){this._vimeoPlayerPlay&&this._vimeoPlayerPlay()})},$.fn.vimeoPlayerPause=function(){return this.each(function(){this._vimeoPlayerPause&&this._vimeoPlayerPause()})},$.fn.vimeoPlayerDebug=function(){return this.length===0?"No elements selected":se(this[0])});function ae(t){o("Setting up Swiper integration",t);let r={on:{init:function(){o("Swiper initialized");let s=this.slides[this.activeIndex].querySelectorAll("[data-vimeo-player-init]");s.length?(o(`Found ${s.length} Vimeo elements in active slide`),s.forEach(n=>{F(n),m(n),setTimeout(()=>{n._vimeoPlayerPlay&&(o("Forcing play on initial slide"),n._vimeoPlayerPlay())},800)})):o("No Vimeo elements found in active slide")},slideChangeTransitionStart:function(){o("Slide change transition start"),typeof this.previousIndex!="undefined"&&this.slides[this.previousIndex].querySelectorAll('[data-vimeo-player-init][data-vimeo-initialized="true"]').forEach(n=>{o("Destroying player on previous slide"),F(n)})},slideChangeTransitionEnd:function(){o("Slide change transition end");let s=this.slides[this.activeIndex].querySelectorAll("[data-vimeo-player-init]");s.length?(o(`Found ${s.length} Vimeo elements in new active slide`),s.forEach(n=>{setTimeout(()=>{F(n),m(n),setTimeout(()=>{n._vimeoPlayerPlay&&(o("Forcing play on new slide"),n._vimeoPlayerPlay(),setTimeout(()=>{n._vimeoPlayer&&!n._vimeoState.isPlaying&&(o("Second play attempt on new slide"),n._vimeoPlayerPlay())},1e3))},500)},100)})):o("No Vimeo elements found in new active slide")}}};return t.params&&t.params.on&&Object.assign(r.on,t.params.on),Object.assign(t.params,r),t.initialized&&(o("Swiper already initialized, running init handler manually"),r.on.init.call(t)),t}typeof $!="undefined"&&($.fn.setupVimeoSwiper=function(){return this.each(function(){this.swiper?ae(this.swiper):console.error("No Swiper instance found on element:",this)})});})();
