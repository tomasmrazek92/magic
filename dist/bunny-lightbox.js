"use strict";(()=>{function Pe(){var a=document.querySelector("[data-bunny-lightbox-init]");if(!a)return;var m=a.closest("[data-bunny-lightbox-status]");if(!m)return;var t=a.querySelector("video");if(!t)return;try{t.pause()}catch{}try{t.removeAttribute("src"),t.load()}catch{}function w(e,n,r){var u=typeof r=="boolean"?r?"true":"false":String(r);e.getAttribute(n)!==u&&e.setAttribute(n,u)}function c(e){w(a,"data-player-status",e)}function E(e){t.muted=!!e,w(a,"data-player-muted",t.muted)}function L(e){w(a,"data-player-fullscreen",!!e)}function v(e){w(a,"data-player-activated",!!e)}a.hasAttribute("data-player-activated")||v(!1);var x=a.querySelector("[data-player-timeline]"),M=a.querySelector("[data-player-progress]"),ie=a.querySelector("[data-player-buffered]"),k=a.querySelector("[data-player-timeline-handle]"),y=a.querySelectorAll("[data-player-time-duration]"),R=a.querySelectorAll("[data-player-time-progress]"),J=a.querySelector("[data-bunny-lightbox-placeholder]"),ue=a.getAttribute("data-player-update-size"),H=a.getAttribute("data-player-autoplay")==="true",he=a.getAttribute("data-player-muted")==="true",A=!1;t.loop=!1,E(he),t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline",""),t.playsInline=!0,typeof t.disableRemotePlayback!="undefined"&&(t.disableRemotePlayback=!0),H&&(t.autoplay=!1);var j=!!t.canPlayType("application/vnd.apple.mpegurl"),oe=!!(window.Hls&&Hls.isSupported())&&!j,K=!1,b="",le="",D,I=!1,de="";function ge(e,n,r,u){var i=n.querySelector("[data-bunny-lightbox-calc-height]");if(!i)return;function d(){if(u==="cover")return null;if(u==="true"){if(r.videoWidth&&r.videoHeight)return r.videoWidth/r.videoHeight;var f=e.querySelector("[data-player-before]");if(f&&f.style&&f.style.paddingTop){var p=parseFloat(f.style.paddingTop);if(p>0)return 100/p}var h=e.getBoundingClientRect();return h.height>0?h.width/h.height:16/9}var g=e.querySelector("[data-player-before]");if(g&&g.style&&g.style.paddingTop){var S=parseFloat(g.style.paddingTop);if(S>0)return 100/S}var T=e.getBoundingClientRect();return T.height>0?T.width/T.height:16/9}function o(){if(u==="cover"){i.style.maxWidth="",i.style.maxHeight="";return}var f=n,p=getComputedStyle(f),h=parseFloat(p.paddingTop)||0,g=parseFloat(p.paddingBottom)||0,S=parseFloat(p.paddingLeft)||0,T=parseFloat(p.paddingRight)||0,re=f.clientWidth-S-T,G=f.clientHeight-h-g;if(!(re<=0||G<=0)){var ae=d();if(!ae){i.style.maxWidth="",i.style.maxHeight="";return}var ye=re/ae;ye<=G?(i.style.maxWidth="100%",i.style.maxHeight=ye/G*100+"%"):(i.style.maxHeight="100%",i.style.maxWidth=G*ae/re*100+"%")}}var l=!1;function s(){l||n.getAttribute("data-bunny-lightbox-status")==="active"&&(l=!0,requestAnimationFrame(function(){l=!1,o()}))}var P=new ResizeObserver(s);P.observe(n),window.addEventListener("resize",s),window.addEventListener("orientationchange",s),u==="true"&&(r.addEventListener("loadedmetadata",s),r.addEventListener("loadeddata",s),r.addEventListener("playing",s)),e._applyClamp=s,s()}ge(a,m,t,ue);function me(e,n){if(j){t.preload="metadata",t.src=e,t.addEventListener("loadedmetadata",n,{once:!0});return}if(oe){var r=new Hls({maxBufferLength:4,maxMaxBufferLength:10,startLevel:-1});a._hls=r,r.attachMedia(t),r.on(Hls.Events.MEDIA_ATTACHED,function(){r.loadSource(e)}),r.on(Hls.Events.MANIFEST_PARSED,function(){n()}),r.on(Hls.Events.LEVEL_LOADED,function(u,i){i&&i.details&&isFinite(i.details.totalduration)&&y.length&&_(y,B(i.details.totalduration))});return}t.preload="metadata",t.src=e,t.addEventListener("loadedmetadata",n,{once:!0})}function be(e){if(!(b===e&&K)){if(a._hls){try{a._hls.destroy()}catch{}a._hls=null}y.length&&_(y,"00:00"),b=e,K=!0,me(e,function(){ve(a,A),z(),typeof a._applyClamp=="function"&&a._applyClamp(),y.length&&t.duration&&_(y,B(t.duration)),I&&m.getAttribute("data-bunny-lightbox-status")==="active"&&(c("loading"),Y(t),I=!1)})}}function se(e){var n=e?"active":"not-active";m.getAttribute("data-bunny-lightbox-status")!==n&&m.setAttribute("data-bunny-lightbox-status",n),e&&typeof a._applyClamp=="function"&&a._applyClamp()}function Ee(e){return b&&b===e}function Le(e){var n=Ee(e);if(!n){try{!t.paused&&!t.ended&&t.pause()}catch{}if(a._hls){try{a._hls.destroy()}catch{}a._hls=null}K=!1,b="",y.length&&_(y,"00:00"),v(!1),c("idle"),be(e),I=!!H,A=!!H;return}if(I=!!H,H)c("loading"),Y(t);else{try{!t.paused&&!t.ended&&t.pause()}catch{}v(!1),c("paused")}}function we(e,n){if(e){if(J&&n){var r=J.getAttribute("src")!==n;r&&J.setAttribute("src",n)}se(!0),Le(e)}}function xe(e){if(!(!e||de===e||b===e)){if(de=e,j){var n=document.createElement("video");n.preload="metadata",n.src=e,n.load();return}if(oe&&!a._preloadHls){var r=new Hls({maxBufferLength:3,autoStartLoad:!1});a._preloadHls=r;var n=document.createElement("video");r.attachMedia(n),r.on(Hls.Events.MEDIA_ATTACHED,function(){r.loadSource(e)})}}}function Ae(){t.paused||t.ended?(A=!0,le="",c("loading"),Y(t)):(le="manual",t.pause())}function Fe(){E(!t.muted)}a.addEventListener("click",function(e){var n=e.target.closest("[data-player-control]");if(!(!n||!a.contains(n))){var r=n.getAttribute("data-player-control");r==="play"||r==="pause"||r==="playpause"?Ae():r==="mute"?Fe():r==="fullscreen"&&Te()}});function Q(){return!!(document.fullscreenElement||document.webkitFullscreenElement)}function _e(){if(a.requestFullscreen)return a.requestFullscreen();if(t.requestFullscreen)return t.requestFullscreen();if(t.webkitSupportsFullscreen&&typeof t.webkitEnterFullscreen=="function")return t.webkitEnterFullscreen()}function Se(){if(document.exitFullscreen)return document.exitFullscreen();if(document.webkitExitFullscreen)return document.webkitExitFullscreen();if(t.webkitDisplayingFullscreen&&typeof t.webkitExitFullscreen=="function")return t.webkitExitFullscreen()}function Te(){Q()||t.webkitDisplayingFullscreen?Se():_e()}document.addEventListener("fullscreenchange",function(){L(Q())}),document.addEventListener("webkitfullscreenchange",function(){L(Q())}),t.addEventListener("webkitbeginfullscreen",function(){L(!0)}),t.addEventListener("webkitendfullscreen",function(){L(!1)});function W(){y.length&&_(y,B(t.duration)),R.length&&_(R,B(t.currentTime))}t.addEventListener("timeupdate",W),t.addEventListener("loadedmetadata",function(){W(),z()}),t.addEventListener("loadeddata",function(){z()}),t.addEventListener("playing",function(){z()}),t.addEventListener("durationchange",W);function O(){if(t.duration){var e=t.currentTime/t.duration*100;M&&(M.style.transform="translateX("+(-100+e)+"%)"),k&&(k.style.left=ke(e)+"%")}}function ke(e){return e<0?0:e>100?100:e}function fe(){O(),!t.paused&&!t.ended&&(D=requestAnimationFrame(fe))}function U(){if(!(!ie||!t.duration||!t.buffered.length)){var e=t.buffered.end(t.buffered.length-1),n=e/t.duration*100;ie.style.transform="translateX("+(-100+n)+"%)"}}if(t.addEventListener("progress",U),t.addEventListener("loadedmetadata",U),t.addEventListener("durationchange",U),t.addEventListener("play",function(){v(!0),cancelAnimationFrame(D),fe(),c("playing")}),t.addEventListener("playing",function(){A=!1,c("playing")}),t.addEventListener("pause",function(){A=!1,cancelAnimationFrame(D),O(),c("paused")}),t.addEventListener("waiting",function(){c("loading")}),t.addEventListener("canplay",function(){ve(a,A)}),t.addEventListener("ended",function(){A=!1,cancelAnimationFrame(D),O(),v(!1),t.currentTime=0,(document.fullscreenElement||document.webkitFullscreenElement||t.webkitDisplayingFullscreen)&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():t.webkitExitFullscreen&&t.webkitExitFullscreen()),te()}),x){let e=function(o){F||(F=x.getBoundingClientRect());var l=(o-F.left)/F.width;return l<0&&(l=0),l>1&&(l=1),l},n=function(o){if(t.duration){var l=o*100;M&&(M.style.transform="translateX("+(-100+l)+"%)"),k&&(k.style.left=l+"%"),R.length&&_(R,B(o*t.duration))}},r=function(o){t.duration&&(o-ce<He||(ce=o,t.currentTime=X))},u=function(o){if(t.duration){C=!0,Z=!t.paused&&!t.ended,Z&&t.pause(),a.setAttribute("data-timeline-drag","true"),F=x.getBoundingClientRect();var l=e(o.clientX);X=l*t.duration,n(l),r(performance.now()),x.setPointerCapture&&x.setPointerCapture(o.pointerId),window.addEventListener("pointermove",i,{passive:!1}),window.addEventListener("pointerup",d,{passive:!0}),o.preventDefault()}},i=function(o){if(C){var l=e(o.clientX);X=l*t.duration,n(l),r(performance.now()),o.preventDefault()}},d=function(){C&&(C=!1,a.setAttribute("data-timeline-drag","false"),F=null,t.currentTime=X,Z?Y(t):(O(),W()),window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",d))};var Ie=e,We=n,Oe=r,Xe=u,Ne=i,Ve=d,C=!1,Z=!1,X=0,ce=0,He=180,F=null;window.addEventListener("resize",function(){C||(F=null)}),x.addEventListener("pointerdown",u,{passive:!1}),k&&k.addEventListener("pointerdown",u,{passive:!1})}var $,Ce=3e3;function ee(e){a.getAttribute("data-player-hover")!==e&&a.setAttribute("data-player-hover",e)}function qe(){clearTimeout($),$=setTimeout(function(){ee("idle")},Ce)}function q(){ee("active"),qe()}a.addEventListener("pointerdown",q),document.addEventListener("fullscreenchange",q),document.addEventListener("webkitfullscreenchange",q);var N=!1;function pe(e){var n=a.getBoundingClientRect();e.clientX>=n.left&&e.clientX<=n.right&&e.clientY>=n.top&&e.clientY<=n.bottom&&q()}a.addEventListener("pointerenter",function(){q(),N||(N=!0,window.addEventListener("pointermove",pe,{passive:!0}))}),a.addEventListener("pointerleave",function(){ee("idle"),clearTimeout($),N&&(N=!1,window.removeEventListener("pointermove",pe))});function te(){se(!1);var e=!1;try{if(t.played&&t.played.length){for(var n=0;n<t.played.length;n++)if(t.played.end(n)>0){e=!0;break}}else e=t.currentTime>0}catch{}try{!t.paused&&!t.ended&&t.pause()}catch{}v(!1),c(e?"paused":"idle")}var ne;document.addEventListener("pointerover",function(e){if(!(!e.target||!e.target.closest)){var n=e.target.closest('[data-bunny-lightbox-control="open"]');if(n){var r=n.getAttribute("data-bunny-lightbox-src");r&&(clearTimeout(ne),ne=setTimeout(function(){xe(r)},300))}}},!0),document.addEventListener("pointerout",function(e){if(!(!e.target||!e.target.closest)){var n=e.target.closest('[data-bunny-lightbox-control="open"]');n&&clearTimeout(ne)}},!0),document.addEventListener("click",function(e){var n=e.target.closest('[data-bunny-lightbox-control="open"]');if(n){var r=n.getAttribute("data-bunny-lightbox-src")||"";if(!r)return;var u=n.getAttribute("data-poster-src"),i="";if(u)i=u;else{var d=n.querySelector("[data-bunny-lightbox-placeholder]");i=d?d.getAttribute("src"):""}we(r,i);return}var o=e.target.closest('[data-bunny-lightbox-control="close"]');if(o){var l=o.closest("[data-bunny-lightbox-status]");l===m&&te();return}}),document.addEventListener("keydown",function(e){e.key==="Escape"&&te()});function V(e){return(e<10?"0":"")+e}function B(e){if(!isFinite(e)||e<0)return"00:00";var n=Math.floor(e),r=Math.floor(n/3600),u=Math.floor(n%3600/60),i=n%60;return r>0?r+":"+V(u)+":"+V(i):V(u)+":"+V(i)}function _(e,n){e.forEach(function(r){r.textContent=n})}function Re(e){return!e||!e.length?null:e.reduce(function(n,r){return(r.width||0)>(n.width||0)?r:n},e[0])}function Y(e){var n=e.play();n&&typeof n.then=="function"&&n.catch(function(){})}function ve(e,n){!n&&e.getAttribute("data-player-activated")!=="true"&&e.getAttribute("data-player-status")==="idle"&&e.setAttribute("data-player-status","ready")}function Be(e,n,r,u){if(!(n!=="true"||!r||!u)){var i=e.querySelector("[data-player-before]");i&&(i.style.paddingTop=u/r*100+"%")}}function De(e,n,r){if(n==="true"){var u=e.querySelector("[data-player-before]");if(u){var i=u.style.paddingTop&&u.style.paddingTop!=="0%";!i&&r.videoWidth&&r.videoHeight&&Be(e,n,r.videoWidth,r.videoHeight)}}}function z(){if(ue!=="true")return;var e=a.querySelector("[data-player-before]");if(!e)return;function n(i,d){!i||!d||(e.style.paddingTop=d/i*100+"%",typeof a._applyClamp=="function"&&a._applyClamp())}if(t.videoWidth&&t.videoHeight){n(t.videoWidth,t.videoHeight);return}if(a._hls&&a._hls.levels&&a._hls.levels.length){var r=a._hls.levels,u=r.reduce(function(i,d){return(d.width||0)>(i.width||0)?d:i},r[0]);if(u&&u.width&&u.height){n(u.width,u.height);return}}requestAnimationFrame(function(){if(t.videoWidth&&t.videoHeight){n(t.videoWidth,t.videoHeight);return}var i=typeof b=="string"&&b?b:"";if(!i||i.indexOf("blob:")===0){var d=a.getAttribute("data-bunny-lightbox-src")||a.getAttribute("data-player-src")||"";d&&d.indexOf("blob:")!==0&&(i=d)}!i||!/^https?:/i.test(i)||fetch(i,{credentials:"omit",cache:"no-store"}).then(function(o){if(!o.ok)throw new Error;return o.text()}).then(function(o){for(var l=o.split(/\r?\n/),s=0,P=0,f=null,p=0;p<l.length;p++){var h=l[p];if(h.indexOf("#EXT-X-STREAM-INF:")===0)f=h;else if(f&&h&&h[0]!=="#"){var g=/RESOLUTION=(\d+)x(\d+)/.exec(f);if(g){var S=parseInt(g[1],10),T=parseInt(g[2],10);S>s&&(s=S,P=T)}f=null}}s&&P&&n(s,P)}).catch(function(){})})}}function Me(){var a=document.querySelectorAll('[data-bunny-lightbox-control="open"]');if(a.length){var m={};a.forEach(function(t){var w=t.getAttribute("data-bunny-lightbox-src");if(w)try{var c=new URL(w),E=c.origin;if(E&&!m[E]){m[E]=!0;var L=document.createElement("link");L.rel="preconnect",L.href=E,document.head.appendChild(L);var v=document.createElement("link");v.rel="dns-prefetch",v.href=E,document.head.appendChild(v)}}catch{}})}}document.addEventListener("DOMContentLoaded",function(){Me(),Pe()});})();
