{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/gallery.js"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "// FS Filter\nwindow.fsAttributes.push([\n  'cmsfilter',\n  (filterInstances) => {\n    // The callback passes a `filterInstances` array with all the `CMSFilters` instances on the page.\n    const [filterInstance] = filterInstances;\n\n    // Init\n    $('.search_clear').hide();\n\n    // The `renderitems` event runs whenever the list renders items after filtering.\n    filterInstance.listInstance.on('renderitems', function () {\n      VideoModal.init();\n      let entries = filterInstance.filtersData[0].values.size;\n      if (entries >= 1) {\n        // If filters are active, execute this block\n        $('[data-filter-default]').hide();\n        $('[data-filter-results]').css('display', 'flex');\n        $('.search_clear').css('display', 'flex');\n      } else {\n        // If no filters are active, execute this block\n        $('[data-filter-default]').show();\n        $('[data-filter-results]').hide();\n        $('.search_clear').hide();\n      }\n    });\n  },\n]);\n\n// FS Load\nwindow.fsAttributes.push([\n  'cmsload',\n  (listInstances) => {\n    // The callback passes a `filterInstances` array with all the `CMSFilters` instances on the page.\n    const [listInstance] = listInstances;\n\n    // The `renderitems` event runs whenever the list renders items after switching pages.\n    listInstance.on('renderitems', (renderedItems) => {\n      VideoModal.init();\n    });\n  },\n]);\n\nlet searchInput = $('.search_input');\n\nif (!window.location.href.includes('/blog-categories/')) {\n  // Create a function to monitor input changes\n  function monitorSearchInput() {\n    searchInput.on('input', function () {\n      let currentValue = $(this).val().toLowerCase().trim();\n\n      let menuLinks = $('.p-gallery-menu-link');\n\n      // Loop through all menu links\n      menuLinks.each(function () {\n        let linkText = $(this).text().toLowerCase().trim();\n\n        // If we find a match\n        if (linkText === currentValue) {\n          // You can add any action here when match is found\n          // For example, add a class to the matching link:\n          $(this).addClass('w--current');\n          // Or trigger a click on it:\n          // $(this).trigger('click');\n        } else {\n          $(this).removeClass('w--current');\n        }\n      });\n    });\n  }\n\n  // Initialize the monitor\n  monitorSearchInput();\n\n  $('.p-gallery_menu-link').on('click', function () {\n    let text = $(this).text();\n\n    searchInput.val(text);\n    searchInput[0].dispatchEvent(new Event('input', { bubbles: true }));\n  });\n}\n\n// Animated Placeholder\nfunction typingPlaceholder($input, words, options = {}) {\n  const defaults = {\n    typeSpeed: 100,\n    wordDelay: 2000,\n    eraseSpeed: 50,\n  };\n\n  const settings = { ...defaults, ...options };\n  let wordIndex = 0;\n  let charIndex = 0;\n  let isDeleting = false;\n\n  function type() {\n    const currentWord = words[wordIndex];\n\n    if (isDeleting) {\n      // Erasing\n      $input.attr('placeholder', currentWord.substring(0, charIndex));\n      charIndex--;\n\n      if (charIndex < 0) {\n        isDeleting = false;\n        wordIndex = (wordIndex + 1) % words.length;\n        // Immediately start typing the next word\n        setTimeout(type, settings.typeSpeed);\n        return;\n      }\n\n      setTimeout(type, settings.eraseSpeed);\n    } else {\n      // Typing\n      $input.attr('placeholder', currentWord.substring(0, charIndex));\n      charIndex++;\n\n      if (charIndex > currentWord.length) {\n        isDeleting = true;\n        // Only apply word delay when word is complete\n        setTimeout(type, settings.wordDelay);\n        return;\n      }\n\n      setTimeout(type, settings.typeSpeed);\n    }\n  }\n\n  type();\n}\n\nif (typeof searchWords !== 'undefined') {\n  typingPlaceholder(searchInput, searchWords);\n}\n\nlet player;\n\nconst VideoModal = {\n  init: function () {\n    this.bindEvents();\n  },\n\n  bindEvents: function () {\n    const self = this;\n    $('[data-video-item]').on('click', function () {\n      self.handleVideoClick($(this));\n    });\n    $('.video-modal_close').on('click', function () {\n      self.closeModal();\n    });\n    $('.video-modal_close-btn').on('click', function () {\n      self.closeModal();\n    });\n    $('.video-modal').on('click', function (e) {\n      if (e.target === this) {\n        self.closeModal();\n      }\n    });\n    $(document).on('keydown', function (e) {\n      if (e.key === 'Escape' && $('.video-modal').is(':visible')) {\n        self.closeModal();\n      }\n    });\n  },\n\n  handleVideoClick: function ($item) {\n    const mp4Source = $item.attr('data-mp4-source');\n    const webmSource = $item.attr('data-webm-source');\n    const posterSrc = $item.attr('data-poster-src');\n\n    this.destroyExistingPlayer();\n    this.setupVideoSources(mp4Source, webmSource, posterSrc);\n    this.initializePlayer();\n  },\n\n  destroyExistingPlayer: function () {\n    if (player) {\n      const videoElement = player.media;\n      if (videoElement) {\n        videoElement.pause();\n        videoElement.currentTime = 0;\n      }\n      player.destroy();\n      player = null;\n    }\n  },\n\n  setupVideoSources: function (mp4Source, webmSource, posterSrc) {\n    const $video = $('.video-modal').find('video');\n\n    $video.empty().removeAttr('poster');\n\n    if (webmSource) {\n      $video.append(`<source src=\"${webmSource}\" type=\"video/webm\">`);\n    }\n    if (mp4Source) {\n      $video.append(`<source src=\"${mp4Source}\" type=\"video/mp4\">`);\n    }\n    if (posterSrc) {\n      $video.attr('poster', posterSrc);\n    }\n\n    $video[0].load();\n  },\n\n  initializePlayer: function () {\n    const self = this;\n    const $modal = $('.video-modal');\n    const $video = $modal.find('video');\n\n    setTimeout(function () {\n      player = new Plyr($video[0], {\n        controls: [\n          'play-large',\n          'play',\n          'progress',\n          'current-time',\n          'mute',\n          'volume',\n          'fullscreen',\n        ],\n        autoplay: false,\n        loop: { active: true },\n        ratio: null,\n      });\n\n      $('.video-modal .plyr').css({\n        'object-fit': 'contain',\n        width: '100%',\n        height: '100%',\n      });\n\n      self.showModal($modal);\n    }, 50);\n  },\n\n  showModal: function ($modal) {\n    $modal.fadeIn(300, function () {\n      setTimeout(function () {\n        if (player) {\n          player.play();\n        }\n      }, 100);\n    });\n  },\n\n  closeModal: function () {\n    const $modal = $('.video-modal');\n\n    if (player) {\n      const videoElement = player.media;\n      if (videoElement) {\n        videoElement.pause();\n        videoElement.currentTime = 0;\n      }\n    }\n\n    $modal.fadeOut(300, function () {\n      VideoModal.destroyExistingPlayer();\n    });\n  },\n};\n\n$(document).ready(function () {\n  VideoModal.init();\n});\n"],
  "mappings": "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",
  "names": ["monitorSearchInput"]
}
