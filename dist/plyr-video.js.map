{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/plyr-video.js"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "const allPlayers = [];\n\nwindow.VideoSystem = {\n  init: initVideos,\n  initSwiper: initSwiperVideos,\n  playActiveSlide: playActiveSlideVideo,\n  pauseAll: pauseAllVideos,\n};\n\nfunction initVideos() {\n  $('.plyr_video').each(function () {\n    initSingleVideo($(this));\n  });\n}\n\nfunction initSingleVideo($video) {\n  if ($video.data('plyr-initialized')) return;\n\n  const $parent = $video.parent();\n  const videoSrc = $parent.attr('data-video-src');\n  const posterSrc = $parent.attr('data-poster-src');\n\n  if (posterSrc) $video.attr('poster', posterSrc);\n  $video.attr('src', videoSrc);\n  $video.attr('preload', 'auto');\n\n  const playerOptions = {\n    controls: ['play', 'progress', 'mute'],\n    clickToPlay: false,\n    muted: true,\n    resetOnEnd: true,\n    poster: posterSrc,\n  };\n\n  const player = new Plyr($video[0], playerOptions);\n\n  player.on('ready', () => {\n    player.muted = true;\n    $parent.find('.plyr__controls').hide();\n  });\n\n  allPlayers.push(player);\n  $video.data('plyr-initialized', true);\n  initControls($parent, player);\n}\n\nfunction initSwiperVideos(swiperInstance) {\n  $(swiperInstance.slides)\n    .find('.plyr_video')\n    .each(function () {\n      initSingleVideo($(this));\n    });\n}\n\nfunction initControls($parent, player) {\n  let component = $parent.closest('[data-plyr=\"component\"]');\n  let overlay = component.find('[data-plyr=\"overlay\"]');\n  overlay.on('click', function (e) {\n    overlay.hide();\n    player.muted = false;\n    player.restart();\n    player.play();\n    $parent.find('.plyr__controls').show();\n  });\n\n  if (component.attr('data-plyr-play') === 'hover') {\n    component.on('mouseenter', function () {\n      player.play();\n      overlay.hide();\n      player.muted = true;\n      $parent.find('.plyr__controls').show();\n    });\n\n    component.on('mouseleave', function () {\n      player.pause();\n      overlay.show();\n      player.restart();\n      player.muted = true;\n      $parent.find('.plyr__controls').hide();\n    });\n  }\n\n  $parent.on('click', function (e) {\n    if (\n      !$(e.target).closest('.plyr__controls').length &&\n      !$(e.target).closest('[data-plyr=\"overlay\"]').length\n    ) {\n      if (player.playing) {\n        player.pause();\n      } else {\n        player.play();\n      }\n    }\n  });\n}\n\nfunction pauseAllVideos() {\n  allPlayers.forEach(function (player) {\n    player.pause();\n    player.restart();\n    player.muted = true;\n  });\n  $('[data-plyr=\"overlay\"]').show();\n  $('.plyr__controls').hide();\n}\n\nfunction playActiveSlideVideo(activeSlide) {\n  const $video = $(activeSlide).find('.plyr_video').first();\n  if (!$video.length) return;\n\n  const player = allPlayers.find((p) => p.media === $video[0]);\n  if (player) {\n    pauseAllVideos();\n    player.play();\n  }\n}\n\n$(document).ready(initVideos);\n"],
  "mappings": "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",
  "names": []
}
